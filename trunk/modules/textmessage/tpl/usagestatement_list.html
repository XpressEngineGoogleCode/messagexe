<include target="header.html" />
<load target="js/usagestatement.js" />

<form method="get" action="./" id="mobilemessage_fo" class="form">
    <div class="table even easyList">
        <table class="<!--@if($current_version_int > $version_115)-->rowTable<!--@else-->adminTable<!--@end-->">
        <caption style="text-align:right; margin-bottom:10px;">Total {number_format($total_count)}, Page {number_format($page)}/{number_format($total_page)}</caption>
        <thead style="clear:both;">
            <tr>
                <th scope="col"><div>{$lang->no}</div></th>
                <th scope="col"><div><input type="checkbox" value="" onclick="XE.checkboxToggleAll(); return false;" /></div></th>
                <th scope="col" class=""><div>{$lang->mtype}</div></th>
				<th scope="col" class="quarter_wide"><div>{$lang->recipient_no}</div></th>
				<th scope="col" class=""><div>{$lang->user_name}</div></th>
				<th scope="col" class=""><div>{$lang->reservation}</div></th>
                <th scope="col" class="quarter_wide"><div>{$lang->content}</div></th>
				<th scope="col" class=""><div>{$lang->status}</div></th>
				<th scope="col" class="quarter_wide"><div>{$lang->sent_time}</div></th>
				<th scope="col" class="quarter_wide"><div>{$lang->result_code}</div></th>
				<th scope="col" class="quarter_wide"><div>{$lang->carrier}</div></th>
            </tr>
        </thead>
        <tbody>
            <!--@foreach($message_list as $no => $val)-->
            <tr class="row{$cycle_idx}">
                <td>{$no}</td>
                <td><input type="checkbox" name="cart" value="{$val->message_id}" /></td>
                <td>{$val->mtype}</td>
                <td>{htmlspecialchars($val->recipient_no)}</td>
                <td><!--@if(!$val->ref_username)-->-<!--@else-->{htmlspecialchars($val->ref_username)}<!--@end--></td>
				<td><span cond="$val->reservflag=='Y'" class="reservdate">{zdate($val->reservdate, "Y-m-d H:i")}</span><span cond="$val->reservflag=='N'">-</span></td>
				<td title="{htmlspecialchars($val->content)}">{htmlspecialchars($csutil->dispContent($val->content))}</td>
				<td>{$csutil->dispStatus($val->mstat)}</td>
				<td>{zdate($val->senddate, "Y-m-d H:i:s")}</td>
				<td <!--@if($val->rcode != '00')-->style="color: #ee7989;"<!--@end-->>{$val->rcode}:{htmlspecialchars($csutil->dispResultCode($val->rcode))}</td>
				<td><span cond="$val->carrier=='SKT'">SKT</span><span cond="$val->carrier=='LGT'">LGU+</span><span cond="$val->carrier=='KTF'">KT</span></td>
            </tr>
            <!--@end-->
        </tbody>
        </table>
    </div>
   </form>
   <a href="?module={$module}&act={$act}" class="button black"><span>{$lang->up_list}</span></a>

   <!-- 페이지 네비게이션 -->
    <div class="x_clearfix">
		<include target="_page_navigation.html" />
		<div class="controls x_pull-right">
			<a href="#delete" class="modalAnchor deleteMessages x_btn">{$lang->cmd_delete}</a>
			<a href="#cancelation" class="modalAnchor cancelReserv x_btn">{$lang->cmd_cancel_reserv}</a>
		</div>
	</div>

<div class="x_modal" id="cancelation">
	<form action="./" class="fg form" method="post">
		<input type="hidden" name="module" value="textmessage" />
		<input type="hidden" name="act" value="procTextmessageAdminCancelReserv" />
		<input type="hidden" name="group_id" value="{$group_id}" />
		<input type="hidden" name="success_return_url" value="{getUrl('act', $act,'group_id',$group_id)}" />
		<div id="cancelForm"></div>
	</form>
</div>
<div class="x_modal" id="delete">
	<form action="./" class="fg form" method="post">
		<input type="hidden" name="module" value="textmessage" />
		<input type="hidden" name="act" value="procTextmessageAdminDeleteMessages" />
		<input type="hidden" name="group_id" value="{$group_id}" />
		<div id="deleteForm"></div>
	</form>
</div>
