<!--%import("css/default.css")-->
<!--%import("css/tipsy.css")-->
<!--%import("css/jquery.contextmenu.css")-->

<!--%import("js/_lib/jquery.cookie.js")-->
<!--%import("js/_lib/jquery.hotkeys.js")-->
<!--%import("js/jquery.jstree.js")-->
<!--%import("js/jquery.tipsy.js")-->
<!--%import("js/purplebook.js")-->
<!--%import("js/filepicker.js")-->
<!--%import("js/autoresize.jquery.js")-->
<!--%import("js/json2.js")-->
<!--%import("js/jquery.contextmenu.js")-->
<!--%import("js/jquery.progressbar.js")-->
<!--%import("js/jquery.curvycorners.source.js")-->
<!--%import("js/jquery.qtip-1.0.0-rc3.js")-->
<!--%import("js/global.js")-->

<!--%load_js_plugin("ui")-->
<!--%load_js_plugin("ui.datepicker")-->
<block cond="!$module_info->manual_url">{@$module_info->manual_url = "http://www.coolsms.co.kr/purplebook_manual"}</block>

<div id="hearder_title">
<p class="page_title">웹에서 보내기</p>
</div>

<div class="tip_box">
	전송결과는 coolsms 전송결과 페이지에서 확인할수 있습니다. <a href="http://www.coolsms.co.kr/report" target="_blank"> 바로가기</a>
	<div class="btn_wrap"><a class="use_btn" id="btn_pop_manual" class="pop_menual btn_menual" href="#" onfocus="this.blur()" title="자세한 설명">사용방법</a></div>
</div>

<div id="smsPurplebook">
	<div class="purplebook_left">	
		<div class="purplebook_left_title">
            <div class="title01">주소 목록</div>
            <div class="title01">
				<span class="search">
					<input type="text" id="search_word" class="inputTypeText" value="" title="검색할 이름 혹은 전화번호를 입력" />
					<a href="#" id="btn_search"><img src="img/btn_search.gif" alt="검색" /></a>
				</span>
			</div>
		</div>
		<div class="left_list">
			<div class="title_info">폴더 목록</div>
			<div class="bodyArea"><div id="smsPurplebookTree"></div></div>
			<ul class="bottomArea">
				<li>
					<a id="smsPurplebookRefreshTree" href="#" title="폴더목록 새로고침">새로고침</a>
				</li>
				<li class="excel_down_btn">
					<a id="btn_empty_trash" href="#" title="휴지통 비우기">엑셀 다운로드</a>
				</li>
				<li>
					<a id="btn_pop_manual" class="pop_menual btn_menual" href="#" onfocus="this.blur()" title="자세한 설명">폴더생성</a>
				</li>
				<li class="etc_btn">
				<a id="btn_pop_manual" class="pop_menual btn_menual etc" href="#" onfocus="this.blur()" title="기타메뉴">기타메뉴</a>
				</li>
			</ul>
		</div><!-- 1번 주소 폴더 목록 끝 -->

		<!-- 레이어 팝업 영역 -->
		<div id="layer_properties" class="layer draggable">
			<div class="title"><p>속성보기</p><span class="btn_closex"><a href="#"><img class="pngFix" src="img/pop_btn_close.gif" alt="close" /></a></span></div>
            <div class="bodyArea"><ul id="properties_list"></ul></div>
			<div class="bottomArea"></div>
		</div><!-- 속성보기 -->

		<div id="layer_share" class="layer draggable">
			<div class="title"><p>폴더 공유</p><span class="btn_closex"><a href="#"><img class="pngFix" src="img/pop_btn_close.gif" alt="close" /></a></span></div>
            <div class="bodyArea"><ul id="share_list"></ul></div>
			<div class="bottomArea">
                <input type="text" id="input_user_id" class="inputTypeText" value="" title="공유할 아이디를 입력" /><a id="btn_append_id"><img src="img/pop_btn_add.gif" alt="추가"></a>
			</div>
		</div><!-- 폴더 공유 -->

		<div id="layer_manual" class="layer draggable"></div><!-- 사용법 레이어 -->

		<div class="left_select">
			<div class="title_info"><span cond="0" class="checkbox" id="smsPurplebookToggleList" title="선택전환"></span><span class="list_count" id="smsPurplebookListCount">0</span><a href="#" class="all_view" id="full_address_button">전체보기</a></div>
			<div class="bodyArea"><ul id="smsPurplebookList"></ul></div>
			<ul class="bottomArea">
				<li>
					<a class="pop_append" href="#" title="선택목록에 명단 추가">추가</a>
				</li>
				<li>
					<a class="btn_delete" href="#" title="체크 명단 휴지통으로 이동">삭제</a>
				</li>
				<li>
					<a class="pop_copy" href="#" title="체크 명단 특정폴더로 복사">복사</a>
				</li>
				<li>
					<a class="pop_move" href="#" title="체크 명단 특정폴더로 이동">이동</a>
				</li>
			</ul>
		</div><!-- 2번 주소 폴더 선택 끝 -->

		<div id="layer_append" class="layer draggable"></div><!-- 추가 레이어 -->
		
		<div id="layer_copy" class="layer draggable">
			<div class="title"><p>복사할 폴더를 선택하세요</p><span class="btn_closex"><a href="#" class="close_btn">Close</a></span></div>
			<div class="bodyArea"><div id="smsPurplebookTargetTreeCopy"></div></div>
			<ul class="bottom_btn">
				<li>
					<a class="btn_refresh" href="">새로고침</a>
				</li>
				<li>
					<a class="btn_copy" id="smsPurplebookDoCopy" href="">복사</a>
				</li>
			</ul>
		</div><!-- 복사 레이어 -->

		<div id="layer_move" class="layer draggable">
			<div class="title"><p>이동할 폴더를 선택하세요</p><span class="btn_closex"><a href="#" class="close_btn">Close</a></span></div>
			<div class="bodyArea"><div id="smsPurplebookTargetTreeMove"></div></div>
			<ul class="bottom_btn">
				<li>
					<a class="btn_refresh" href="">새로고침</a>
				</li>
				<li>
					<a class="btn_move" id="smsPurplebookDoMove" href="">이동</a>
				</li>
			</ul>
		</div><!-- 이동 레이어 -->
	</div><!-- 1, 2번 왼쪽 주소록 영역 끝 -->

	<div class="purplebook_arrow">
		<span class="btn_arrow_right"><a id="addRecipients" href="#" title="명단을 발송대상에 추가"><img class="pngFix" src="img/right_arrow.png" alt="" /></a></span>
		<span class="btn_arrow_right"><a id="addFolder" href="#" title="폴더를 발송대상에 추가"><img class="pngFix" src="img/right_arrow.png" alt="" /></a></span>
	</div><!-- 가운데 화살표 영역 끝 -->

	<div class="purplebook_right">
		<div class="purplebook_right_title">		
			<div class="right_title">받는사람<span class="total" id="smsPurplebookTargetListCount">(총 0/명)</span></div>
		</div>
		<div class="add_list">
			<input type="text" id="inputDirectName" class="inputTypeText" maxlength="10" placeholder="이름" title="이름" value="" />
            <input type="text" id="inputDirectNumber" maxlength="20" class="inputTypeText" placeholder="폰번호" title="폰번호" value="" />

            <button class="btn_append" id="btnDirectAdd" title="받는사람에 추가">추가</button>
            <button class="pop_recent" title="최근입력 번호목록">최근목록</button>
		</div>
        <div class="title_info"><span class="checkbox" id="smsPurplebookToggleTarget" title="선택전환"></span><span class="name">이름</span><span class="h_number">핸드폰</span><span class="h_delete">삭제</span></div>
		<div class="bodyArea"><ul id="smsPurplebookTargetList"></ul></div>
		<ul class="bottomArea">
			<li>
				<a id="minusRecipients" href="#" title="선택삭제" onclick="return false;">선택삭제</a>
			</li>
			<li>
				<a class="pop_addrbook" href="#" title="체크 목록 주소록에 복사" onclick="return false;">주소록이동</a>
			</li>
			<li>
				<a class="pop_mass" id="smsPurplebookAddBulk" href="#" title="메모한 목록을 붙여넣기" onclick="return false;">대량추가</a>
			</li>
			<li>
				<a class="pop_overlap" href="#" title="중복번호 목록" onclick="return false;">중복번호</a>
			</li>
		</ul>

		<!-- 레이어 팝업 영역 -->
		<div id="layer_addrbook" class="layer draggable">
			<div class="title"><p>주소록으로 복사할 폴더를 선택하세요</p><span class="btn_closex"><a href="#" class="close_btn">Close</a></span></div>
			<div class="bodyArea"><div id="smsPurplebookTargetTreeAddrbook"></div></div>
			<ul class="bottom_btn">
				<li>
					<a class="btn_refresh" href="">새로고침</a>
				</li>
				<li>
					<a class="btn_copy" href="">복사</a>
				</li>
			</ul>
		</div><!-- 이동 레이어 -->

		<div id="layer_overlap" class="layer draggable"></div><!-- 중복번호 레이어 -->
		<div id="layer_mass" class="layer draggable"></div><!-- 대량추가 레이어 -->
		<div id="layer_recent" class="layer draggable"></div><!-- 최근입력번호 레이어 -->
	</div><!-- 오른쪽 전송 영역 끝 -->
</div>
<div id="smsPurplebook_bottom" class="pngFix"></div>

<div id="smsMessage">
    <div class="msgtype_switch">
        90바이트가 초과되었습니다. 발송방법을 선택해 주세요.
        <div>
            <input type="radio" name="msgtype" id="mmsSend" value="SMS" checked="checked" /><label for="mmsSend">MMS 장문</label>
            <input type="radio" name="msgtype" id="smsSplit" value="SMS" /><label for="smsSplit">SMS 분할</label>
        </div>
    </div>

	<ul class="center_display" id="smsPurplebookContentInput">
        <li>
            <div class="top_btn">
                <button class="btn_record" href="#">문자저장</button>
                <button class="pop_messages" href="#">불러오기</button>
            </div>
            <div class="text_area" style="overflow:-moz-scrollbars-vertical; overflow-x:hidden; overflow-y:scroll;">
                <div id="filepicker_preview_file_srl" class="photo" style="display:none;float:left;width:110px;margin-bottom:4px;"></div>
                <textarea id="main_screen" class="phonescreen" style="overflow:hidden;">90bytes초과시 MMS로 전환됩니다.</textarea>
            </div>
            <div class="text_btn">
                <a class="btn_clear" href="#" title="내용지우기"><span>Clear</span></a>
                <a class="btn_bytes" href="#" title="90바이트 제한"><span>0bytes</span></a>
                <a class="close" href="#" style="visibility:hidden;"><span>close</span></a>
                <button class="btn_addwindow" href="#" title="입력창 추가">창추가</button>
            </div>
        </li>
	</ul><!-- 가운데 액정 끝 -->

    <div id="layer_messages" class="layer draggable"></div><!-- 발신번호관리 레이어 -->
	<div id="layer_merge" class="layer draggable"></div><!-- 머지기능관리 레이어 -->
	
	<div class="right_button">
		<div class="add_info">
			<span id="projectedType">SMS</span> <span id="projectedCount">0</span>건, 소요비용 <span id="projectedCost">0</span>원<br />
			<span>현재잔액:243,200원</span>	
		</div>
		<div class="time_interval">
			<input type="checkbox" id="message_interval_check">
			<label for="message_interval_check">발송간격설정</label>
			<p><input type="text" maxlength="4" value="2400" class="input_text" id="message_send_limit" readonly />개 번호를 <input type="text" maxlength="3" value="1" class="input_text minput" id="message_send_interval" readonly />분 마다 전송</p>
		</div>
		<div class="add_area">
            <input type="text" id="smsPurplebookCallback" maxlength="20" value="{$callback}" title="발신번호 입력" />
            <button class="btn_show_layer" title="발신번호 관리">발신번호관리</button>
		</div>
		<div class="submit_btn">
            <a class="btn_forward" id="btnSimplePhoneSend" href="#">보내기</a>
			<a class="btn_booking" id="btnSimplePhoneReserv" href="#">예약전송</a>
            <input type="hidden" value="0" id="smsPurplebookReservFlag" />
		</div>
		<div class="help" title="맞춤법에 어긋나는 글자는 깨져서 전송될 수 있으니 대량전송의 경우 반드시 본인폰으로 테스트 후 발송하세요"><img class="pngFix" src="img/question.png"  alt="발송전 테스트" />유의하실 사항</div>

		<div id="layer_sendid" class="layer draggable"></div><!-- 발신번호관리 레이어 -->
		<div id="layer_reserv" class="layer"></div><!-- 예약발송 레이어 -->
        <div id="layer_status" class="layer draggable">
			<div class="title"><p>전송상태</p><span class="btn_closex"><a href="#" id="layer_status_close" class="close_btn">취소</a></span></div>
            <div class="bodyArea">
                <div class="text">전송중입니다...</div>
                <span class="progressBar"></span>
                <div>전체 : <span class="total_count">0</span></div>
                <div>성공 : <span class="success_count">0</span></div>
                <div>실패 : <span class="failure_count">0</span></div>
				<span class="error_code"></span>
            </div>
            <div class="bottomArea">
				<a id="btn_stop" href=""><img src="img/btn_stop.png" alt="일시중지"></a>
				<a id="btn_continue" href=""><img src="img/btn_continue.png" alt="전송재개"></a>
            </div>
        </div>
	</div><!-- 오른쪽 버튼 끝 -->

	<a id="btn_send_result" href="" >전송결과</a>

	<a id="btn_msg_preview" href="" >미리보기</a>
	<div class="left_button">
		<a id="btn_pop_chars" class="left_btn" href="#">특수문자</a>
		<a id="btn_attach_pic" class="left_btn" href="#">사진추가</a>
		<a id="btn_detach_pic" class="left_btn" href="#">사진삭제</a>
		<button id="btn_pop_merge" href="#">머지기능</button>
		<input type="hidden" name="file_srl" value="" />
		<input type="hidden" name="cancel_file_srl" value="" />

		<div id="layer_chars" class="layer draggable"></div><!-- 특수문자 레이어 -->
		<div id="layer_upload" class="layer draggable"></div><!-- 사진추가 레이어 -->
	</div><!-- 왼쪽 버튼 끝 -->
</div>

<div id="full_address"></div> <!-- 전체보기 컨텐츠 -->
<div id="full_send_result"></div><!-- 전송결과 레이어 -->
<div id="full_msg_preview"></div><!-- 미리보기 레이어 -->

<!--@if($act!='procWidgetGenerateCodeInPage')-->
<script type="text/javascript">
	var g_mid = '{$mid}';
    var g_use_point = '{$module_info->use_point}';
	var g_sms_point = 0;
	var g_lms_point = 0;
	var g_mms_point = 0;
	<block cond="$module_info->sms_point">g_sms_point = {$module_info->sms_point};</block>
	<block cond="$module_info->lms_point">g_lms_point = {$module_info->lms_point};</block>
	<block cond="$module_info->mms_point">g_mms_point = {$module_info->mms_point};</block>
    var g_manual_url = '{$module_info->manual_url}';
    var g_is_logged = <!--@if($is_logged)-->true<!--@else-->false<!--@end-->;
    var g_lang = {};
    var g_send_speed = 1000;
	var g_send_interval = 3000;
    var g_update_speed = 50;
	var g_tpl_path = '{$tpl_path}';
	var g_module_srl = '{$module_info->module_srl}';

    <!--@foreach($widget_lang as $var => $val)-->
        <!--@if(is_string($val))-->
            jQuery.data(g_lang, '{$var}', '{$val}');
        <!--@end-->
    <!--@end-->
    function getLang(v, append) {
        if (typeof(append) == 'undefined')
            return jQuery.data(g_lang, v);

        return jQuery.data(g_lang, v) + append;
    }
</script>
<!--@end-->
